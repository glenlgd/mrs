# 修改组件运行用户密码<a name="ZH-CN_TOPIC_0040967544"></a>

## 操作场景<a name="section4448694316200"></a>

该任务指导用户定期修改MRS集群组件运行用户的密码，以提升系统运维安全性。

如果初始密码由系统随机生成，需要直接重置密码。

## 对系统的影响<a name="section10309800162022"></a>

初始密码为系统随机生成的组件运行用户，在修改密码后需要重启MRS集群，重启期间会造成业务暂时中断。

## 前提条件<a name="section50585329162049"></a>

已在Master1节点准备客户端。

## 操作步骤<a name="section14064511163955"></a>

1.  登录Master1节点。
2.  执行以下命令切换用户。

    **sudo su - omm**

3.  执行以下命令，切换到客户端目录，例如“/opt/client“。

    **cd /opt/client**

4.  执行以下命令，配置环境变量。

    **source bigdata\_env**

5.  执行以下命令，使用kadmin/admin登录控制台。

    **kadmin -p kadmin/admin**

6.  执行以下命令，重置组件运行用户密码。此操作对所有服务器生效。

    **cpw** _组件运行用户名_

    例如：**cpw oms/manager**

    MRS 1.6.2及以后的集群中，默认的密码复杂度要求：

    -   密码字符长度为8～32位。
    -   至少需要包含大写字母、小写字母、数字、空格、特殊字符'~!@\#$%^&\*\(\)-\_=+\\|\[\{\}\];:'",<.\>/?中的3种类型字符。
    -   不能与用户名或倒序的用户名相同。

    -   密码字符长度为8～32位。
    -   至少需要包含大写字母、小写字母、数字、空格、特殊字符'~!@\#$%^&\*\(\)-\_=+\\|\[\{\}\];:'",<.\>/?中的3种类型字符。
    -   不能与用户名或倒序的用户名相同。

    MRS 1.5.0、MRS 1.5.1的集群中，默认的密码复杂度要求：

    -   密码字符长度为6～32位。
    -   至少需要包含大写字母、小写字母、数字、空格、特殊字符~\`!?,.:;-\_'\(\)\{\}\[\]/<\>@\#$%^&\*+|\\=中的2种类型字符。
    -   不能与用户名或倒序的用户名相同。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >其他版本的MRS集群，默认的密码复杂度要求：  
    >-   密码字符长度至少为8位。  
    >-   至少需要包含大写字母、小写字母、数字、空格、特殊字符~\`!?,.:;-\_'\(\)\{\}\[\]/<\>@\#$%^&\*+|\\=中的4种类型字符。  
    >-   不能与用户名或倒序用户名相同。  
    >-   不可与当前密码相同。  

    -   密码字符长度为6～32位。
    -   至少需要包含大写字母、小写字母、数字、空格、特殊字符~\`!?,.:;-\_'\(\)\{\}\[\]/<\>@\#$%^&\*+|\\=中的2种类型字符。
    -   不能与用户名或倒序的用户名相同。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >其他版本的MRS集群，默认的密码复杂度要求：  
    >-   密码字符长度至少为8位。  
    >-   至少需要包含大写字母、小写字母、数字、空格、特殊字符~\`!?,.:;-\_'\(\)\{\}\[\]/<\>@\#$%^&\*+|\\=中的4种类型字符。  
    >-   不能与用户名或倒序用户名相同。  
    >-   不可与当前密码相同。  


