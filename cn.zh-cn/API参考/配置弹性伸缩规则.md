# 配置弹性伸缩规则<a name="ZH-CN_TOPIC_0109962589"></a>

## 功能介绍<a name="section17052835105155"></a>

对弹性伸缩规则进行编辑。

在创建集群并执行作业接口也可以创建弹性伸缩规则。

## URI<a name="section161439810524"></a>

-   URI格式

    POST /v1.1/\{project\_id\}/autoscaling-policy/\{cluster\_id\}

-   参数说明

    **表 1**  URI参数说明

    <a name="table49499141194754"></a>
    <table><thead align="left"><tr id="row33700024194754"><th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.1"><p id="p16571835194812"><a name="p16571835194812"></a><a name="p16571835194812"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="30.000000000000004%" id="mcps1.2.4.1.2"><p id="p141410194812"><a name="p141410194812"></a><a name="p141410194812"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="35%" id="mcps1.2.4.1.3"><p id="p11454278194812"><a name="p11454278194812"></a><a name="p11454278194812"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row37407495194754"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p56702435194812"><a name="p56702435194812"></a><a name="p56702435194812"></a>project_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p29494508194812"><a name="p29494508194812"></a><a name="p29494508194812"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p40820562194812"><a name="p40820562194812"></a><a name="p40820562194812"></a>项目编号。获取方法，请参见<a href="获取项目编号.md">获取项目编号</a>。</p>
    </td>
    </tr>
    <tr id="row9793450141337"><td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.1 "><p id="p42588366141346"><a name="p42588366141346"></a><a name="p42588366141346"></a>cluster_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="30.000000000000004%" headers="mcps1.2.4.1.2 "><p id="p27105608141346"><a name="p27105608141346"></a><a name="p27105608141346"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="35%" headers="mcps1.2.4.1.3 "><p id="p6137976141354"><a name="p6137976141354"></a><a name="p6137976141354"></a>集群编号。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 请求消息<a name="section7976792193238"></a>

**请求参数**

请求参数如[表2](#table27243156151210)和[表3](#table50379282141720)所示。

**表 2**  node\_group参数说明

<a name="table27243156151210"></a>
<table><thead align="left"><tr id="row17848224151210"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="p59344636151210"><a name="p59344636151210"></a><a name="p59344636151210"></a>参数名</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.2"><p id="p42186216151210"><a name="p42186216151210"></a><a name="p42186216151210"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.3"><p id="p61640332151210"><a name="p61640332151210"></a><a name="p61640332151210"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.4"><p id="p26811025151210"><a name="p26811025151210"></a><a name="p26811025151210"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row39972639151210"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p16558360151210"><a name="p16558360151210"></a><a name="p16558360151210"></a>node_group</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.2 "><p id="p66158789151210"><a name="p66158789151210"></a><a name="p66158789151210"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.3 "><p id="p57261711151210"><a name="p57261711151210"></a><a name="p57261711151210"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.4 "><p id="p7687005151210"><a name="p7687005151210"></a><a name="p7687005151210"></a>弹性伸缩规则适用的节点类型，当前只支持task节点，即请求的值为：task_node_default_group</p>
</td>
</tr>
</tbody>
</table>

**表 3**  auto\_scaling\_policy参数说明

<a name="table50379282141720"></a>
<table><thead align="left"><tr id="r235e78d1693e4ee28fa5816daf8f20fe"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="a23033772c6b74785bd90f4a8263b0b40"><a name="a23033772c6b74785bd90f4a8263b0b40"></a><a name="a23033772c6b74785bd90f4a8263b0b40"></a>参数名</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.2"><p id="a49be315a7cb2471f8f15c0143172b789"><a name="a49be315a7cb2471f8f15c0143172b789"></a><a name="a49be315a7cb2471f8f15c0143172b789"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.3"><p id="aa00383033c9d41a9b1746fa41bafe935"><a name="aa00383033c9d41a9b1746fa41bafe935"></a><a name="aa00383033c9d41a9b1746fa41bafe935"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="45%" id="mcps1.2.5.1.4"><p id="a1f22b6e8857d4a629a79d374a56b0367"><a name="a1f22b6e8857d4a629a79d374a56b0367"></a><a name="a1f22b6e8857d4a629a79d374a56b0367"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="rdf7a644576f74cc1a040b3a3e185e63a"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a1d1958aad0c845d88e33c43fee688c91"><a name="a1d1958aad0c845d88e33c43fee688c91"></a><a name="a1d1958aad0c845d88e33c43fee688c91"></a>auto_scaling_enable</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a62b26a6e207746029e933059f1f6d126"><a name="a62b26a6e207746029e933059f1f6d126"></a><a name="a62b26a6e207746029e933059f1f6d126"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a619e58c0fae949ce8366e0bc3cd527f3"><a name="a619e58c0fae949ce8366e0bc3cd527f3"></a><a name="a619e58c0fae949ce8366e0bc3cd527f3"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a6e7e6f7fa922469baed612eb535853eb"><a name="a6e7e6f7fa922469baed612eb535853eb"></a><a name="a6e7e6f7fa922469baed612eb535853eb"></a>当前自动伸缩规则是否使能。</p>
</td>
</tr>
<tr id="r50e660695d8d4f5f9358ff5d5f9b83c7"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a35e527ca5b9345a59d98a5a050835f7f"><a name="a35e527ca5b9345a59d98a5a050835f7f"></a><a name="a35e527ca5b9345a59d98a5a050835f7f"></a>min_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a2b17520bb3ca4d7eb1199b079b829d85"><a name="a2b17520bb3ca4d7eb1199b079b829d85"></a><a name="a2b17520bb3ca4d7eb1199b079b829d85"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="zh-cn_topic_0042904500_p230787112654"><a name="zh-cn_topic_0042904500_p230787112654"></a><a name="zh-cn_topic_0042904500_p230787112654"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="ac772480ddbe54d86a1fae0cfa8f2b100"><a name="ac772480ddbe54d86a1fae0cfa8f2b100"></a><a name="ac772480ddbe54d86a1fae0cfa8f2b100"></a>指定该节点组的最小保留节点数。</p>
<p id="abf6665009dda4876850e8f2496b4a343"><a name="abf6665009dda4876850e8f2496b4a343"></a><a name="abf6665009dda4876850e8f2496b4a343"></a>取值范围：[0～500]</p>
</td>
</tr>
<tr id="r9535e2bf993945b88137161ec09dd0f1"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="acf3d786152ed492ea223948057f0e776"><a name="acf3d786152ed492ea223948057f0e776"></a><a name="acf3d786152ed492ea223948057f0e776"></a>max_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a9d80ffe5f8d24cb0ba0d81732eff356e"><a name="a9d80ffe5f8d24cb0ba0d81732eff356e"></a><a name="a9d80ffe5f8d24cb0ba0d81732eff356e"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="af124c69483d74db58082ba9df44073bc"><a name="af124c69483d74db58082ba9df44073bc"></a><a name="af124c69483d74db58082ba9df44073bc"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a68109e9f57864060b05385edf62044fa"><a name="a68109e9f57864060b05385edf62044fa"></a><a name="a68109e9f57864060b05385edf62044fa"></a>指定该节点组的最大节点数。</p>
<p id="a4c9ac9b29e0f48ea95df20fbc8f2a9af"><a name="a4c9ac9b29e0f48ea95df20fbc8f2a9af"></a><a name="a4c9ac9b29e0f48ea95df20fbc8f2a9af"></a>取值范围：[0～500]</p>
</td>
</tr>
<tr id="row01882496452"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p99881444155"><a name="p99881444155"></a><a name="p99881444155"></a>resources_plans</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p1998854481510"><a name="p1998854481510"></a><a name="p1998854481510"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p59886442157"><a name="p59886442157"></a><a name="p59886442157"></a>List</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p189881644171514"><a name="p189881644171514"></a><a name="p189881644171514"></a>资源计划列表，详细说明请参见<a href="#table10281451162111">表4</a>。若该参数为空表示不启用资源计划。</p>
<p id="p332510443181"><a name="p332510443181"></a><a name="p332510443181"></a>MRS 1.6.0及以后版本支持该参数。</p>
</td>
</tr>
<tr id="row1996344517450"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p337232320178"><a name="p337232320178"></a><a name="p337232320178"></a>exec_scripts</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p337220231170"><a name="p337220231170"></a><a name="p337220231170"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p11372152341713"><a name="p11372152341713"></a><a name="p11372152341713"></a>List</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p93729233178"><a name="p93729233178"></a><a name="p93729233178"></a>弹性伸缩自定义自动化脚本列表。详细说明请参见<a href="#table1921110172216">表5</a>。若该参数为空表示不启用自动化脚本。</p>
<p id="p03726234173"><a name="p03726234173"></a><a name="p03726234173"></a>MRS 1.7.1及以后版本支持该参数。</p>
</td>
</tr>
<tr id="r8fb8f8ab7192472a94f4941267f6b15a"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="abf39b3b45b2b4ba5ba576366e913d481"><a name="abf39b3b45b2b4ba5ba576366e913d481"></a><a name="abf39b3b45b2b4ba5ba576366e913d481"></a>rules</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a90f9a654916d49b6a4be8200fffefc4b"><a name="a90f9a654916d49b6a4be8200fffefc4b"></a><a name="a90f9a654916d49b6a4be8200fffefc4b"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a05a4fb0ba9a24df1856ee5439bb15b6e"><a name="a05a4fb0ba9a24df1856ee5439bb15b6e"></a><a name="a05a4fb0ba9a24df1856ee5439bb15b6e"></a>List</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="ad0c4aba69f4c4185a7d83332d2c187d6"><a name="ad0c4aba69f4c4185a7d83332d2c187d6"></a><a name="ad0c4aba69f4c4185a7d83332d2c187d6"></a>自动伸缩的规则列表，详细说明请参见<a href="#table36786878144853">表6</a>。</p>
</td>
</tr>
</tbody>
</table>

>![](public_sys-resources/icon-note.gif) **说明：**   
>当启用弹性伸缩时，资源计划与自动伸缩规则需至少配置其中一种。  

**表 4**  resources\_plan参数说明

<a name="table10281451162111"></a>
<table><thead align="left"><tr id="row21077515215"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="p11361051162118"><a name="p11361051162118"></a><a name="p11361051162118"></a>参数名</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.2"><p id="p1815835115218"><a name="p1815835115218"></a><a name="p1815835115218"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.3"><p id="p2018015511218"><a name="p2018015511218"></a><a name="p2018015511218"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="45%" id="mcps1.2.5.1.4"><p id="p5198351122117"><a name="p5198351122117"></a><a name="p5198351122117"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1121555192110"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p18632144118282"><a name="p18632144118282"></a><a name="p18632144118282"></a>period_type</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p4632164118286"><a name="p4632164118286"></a><a name="p4632164118286"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p166321418282"><a name="p166321418282"></a><a name="p166321418282"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p963214419289"><a name="p963214419289"></a><a name="p963214419289"></a>资源计划的周期类型，当前只允许以下类型：</p>
<a name="ul363284116288"></a><a name="ul363284116288"></a><ul id="ul363284116288"><li>daily</li></ul>
</td>
</tr>
<tr id="row1531855116213"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p11633174182818"><a name="p11633174182818"></a><a name="p11633174182818"></a>start_time</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p196331041132814"><a name="p196331041132814"></a><a name="p196331041132814"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p19633114122816"><a name="p19633114122816"></a><a name="p19633114122816"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p13633154112816"><a name="p13633154112816"></a><a name="p13633154112816"></a>资源计划的起始时间，格式为“hour:minute”，表示时间在0:00-23:59之间。</p>
</td>
</tr>
<tr id="row7405105118211"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p126333415281"><a name="p126333415281"></a><a name="p126333415281"></a>end_time</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p2063344114284"><a name="p2063344114284"></a><a name="p2063344114284"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p863364112819"><a name="p863364112819"></a><a name="p863364112819"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p2633174117282"><a name="p2633174117282"></a><a name="p2633174117282"></a>资源计划的结束时间，格式与<span class="parmname" id="parmname108341828162917"><a name="parmname108341828162917"></a><a name="parmname108341828162917"></a>“start_time”</span>相同，不早于start_time表示的时间，且与start_time间隔不小于30min。</p>
</td>
</tr>
<tr id="row19532851132116"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p206334415288"><a name="p206334415288"></a><a name="p206334415288"></a>min_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p2633184112285"><a name="p2633184112285"></a><a name="p2633184112285"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p116331241202817"><a name="p116331241202817"></a><a name="p116331241202817"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p6633141102810"><a name="p6633141102810"></a><a name="p6633141102810"></a>资源计划内该节点组的最小保留节点数。</p>
<p id="p3629135317296"><a name="p3629135317296"></a><a name="p3629135317296"></a>取值范围：[0～500]</p>
</td>
</tr>
<tr id="row176245516217"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p263304119287"><a name="p263304119287"></a><a name="p263304119287"></a>max_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p146331041172818"><a name="p146331041172818"></a><a name="p146331041172818"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p156331241162818"><a name="p156331241162818"></a><a name="p156331241162818"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p19633174118288"><a name="p19633174118288"></a><a name="p19633174118288"></a>资源计划内该节点组的最大保留节点数。</p>
<p id="p16373013020"><a name="p16373013020"></a><a name="p16373013020"></a>取值范围：[0～500]</p>
</td>
</tr>
</tbody>
</table>

**表 5**  exec\_script参数说明

<a name="table1921110172216"></a>
<table><thead align="left"><tr id="row1428214111224"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="p15297171172210"><a name="p15297171172210"></a><a name="p15297171172210"></a>参数名</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.2"><p id="p8318816229"><a name="p8318816229"></a><a name="p8318816229"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.3"><p id="p19332191122219"><a name="p19332191122219"></a><a name="p19332191122219"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="45%" id="mcps1.2.5.1.4"><p id="p934614122220"><a name="p934614122220"></a><a name="p934614122220"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row16364151162210"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p2716626113010"><a name="p2716626113010"></a><a name="p2716626113010"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p9716122653011"><a name="p9716122653011"></a><a name="p9716122653011"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p12716172613308"><a name="p12716172613308"></a><a name="p12716172613308"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p1271632643011"><a name="p1271632643011"></a><a name="p1271632643011"></a>弹性伸缩自定义自动化脚本的名称，同一个集群的自定义自动化脚本名称不允许相同。</p>
<p id="p971662623010"><a name="p971662623010"></a><a name="p971662623010"></a>只能由数字、英文字符、空格、中划线和下划线组成，且不能以空格开头。</p>
<p id="p2716192613010"><a name="p2716192613010"></a><a name="p2716192613010"></a>可输入的字符串长度为1～64个字符。</p>
</td>
</tr>
<tr id="row1446317117222"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p1671632619307"><a name="p1671632619307"></a><a name="p1671632619307"></a>uri</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p771612265306"><a name="p771612265306"></a><a name="p771612265306"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p37169268302"><a name="p37169268302"></a><a name="p37169268302"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p15716132603020"><a name="p15716132603020"></a><a name="p15716132603020"></a>自定义自动化脚本的路径。设置为OBS桶的路径或虚拟机本地的路径。</p>
<a name="ul2716122616303"></a><a name="ul2716122616303"></a><ul id="ul2716122616303"><li>OBS桶的路径：直接手动输入脚本路径。示例：s3a://XXX/scale.sh</li><li>虚拟机本地的路径：用户需要输入正确的脚本路径。脚本所在的路径必须以‘/’开头，以.sh结尾。</li></ul>
</td>
</tr>
<tr id="row25607102210"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p361414413374"><a name="p361414413374"></a><a name="p361414413374"></a>parameters</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p361484123715"><a name="p361484123715"></a><a name="p361484123715"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p146149414371"><a name="p146149414371"></a><a name="p146149414371"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p8614746374"><a name="p8614746374"></a><a name="p8614746374"></a>自定义自动化脚本参数。</p>
<a name="ul19405172713813"></a><a name="ul19405172713813"></a><ul id="ul19405172713813"><li>多个参数间用空格隔开。</li><li>可以传入以下系统预定义参数：<a name="ul740512275389"></a><a name="ul740512275389"></a><ul id="ul740512275389"><li>${mrs_scale_node_num}：扩缩容节点数</li><li>${mrs_scale_type}：扩缩容类型，扩容为scale_out，缩容为scale_in</li><li>${mrs_scale_node_hostnames}：扩缩容的节点主机名称</li><li>${mrs_scale_node_ips}：扩缩容的节点IP</li><li>${mrs_scale_rule_name}：触发扩缩容的规则名</li></ul>
</li><li>其他用户自定义参数使用方式与普通shell脚本相同，多个参数中间用空格隔开。</li></ul>
</td>
</tr>
<tr id="row870514172210"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p106161244377"><a name="p106161244377"></a><a name="p106161244377"></a>nodes</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p661616418371"><a name="p661616418371"></a><a name="p661616418371"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p14616244375"><a name="p14616244375"></a><a name="p14616244375"></a>List&lt;String&gt;</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p56161649373"><a name="p56161649373"></a><a name="p56161649373"></a>自定义自动化脚本所执行的节点类型，包含Master、Core和Task三种类型。</p>
</td>
</tr>
<tr id="row67891315228"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p1733982111374"><a name="p1733982111374"></a><a name="p1733982111374"></a>active_master</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p153391921173710"><a name="p153391921173710"></a><a name="p153391921173710"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p4339142163715"><a name="p4339142163715"></a><a name="p4339142163715"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p833952163716"><a name="p833952163716"></a><a name="p833952163716"></a>自定义自动化脚本是否只运行在主Master节点上。</p>
<p id="p13391218375"><a name="p13391218375"></a><a name="p13391218375"></a>缺省值为false，表示引导操作脚本可运行在所有Master节点上。</p>
</td>
</tr>
<tr id="row3891131122219"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p195951338133710"><a name="p195951338133710"></a><a name="p195951338133710"></a>action_stage</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p1759563815377"><a name="p1759563815377"></a><a name="p1759563815377"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p195951038123720"><a name="p195951038123720"></a><a name="p195951038123720"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p5595438133717"><a name="p5595438133717"></a><a name="p5595438133717"></a>脚本执行时机。</p>
<p id="p175951038193717"><a name="p175951038193717"></a><a name="p175951038193717"></a>支持以下四个阶段：</p>
<a name="ul959511385379"></a><a name="ul959511385379"></a><ul id="ul959511385379"><li>before_scale_out：扩容前</li><li>before_scale_in：缩容前</li><li>after_scale_out：扩容后</li><li>after_scale_in：缩容后</li></ul>
</td>
</tr>
<tr id="row173493683712"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p1595838193720"><a name="p1595838193720"></a><a name="p1595838193720"></a>fail_action</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p1595138123712"><a name="p1595138123712"></a><a name="p1595138123712"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p159611387376"><a name="p159611387376"></a><a name="p159611387376"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p959633833712"><a name="p959633833712"></a><a name="p959633833712"></a>自定义自动化脚本执行失败后，是否继续执行后续脚本和创建集群。</p>
<a name="ul1859673813372"></a><a name="ul1859673813372"></a><ul id="ul1859673813372"><li>continue：继续执行后续脚本。</li><li>errorout：终止操作。</li></ul>
<div class="note" id="note353213816378"><a name="note353213816378"></a><a name="note353213816378"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul117517425369"></a><a name="ul117517425369"></a><ul id="ul117517425369"><li>建议您在调试阶段设置为<span class="parmvalue" id="parmvalue13751142123616"><a name="parmvalue13751142123616"></a><a name="parmvalue13751142123616"></a>“continue”</span>，无论此自定义自动化脚本是否执行成功，则集群都能继续安装和启动。</li><li>由于缩容成功无法回滚，因此缩容后执行的脚本fail_action必须为continue。</li></ul>
</div></div>
</td>
</tr>
</tbody>
</table>

**表 6**  rules参数说明

<a name="table36786878144853"></a>
<table><thead align="left"><tr id="r6728a1dd76904fffbbcda57757d9d6de"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="a05ad4998c99e4a7499f83b3c912c7ae9"><a name="a05ad4998c99e4a7499f83b3c912c7ae9"></a><a name="a05ad4998c99e4a7499f83b3c912c7ae9"></a>参数名</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.2"><p id="af191e297ae78431c9932cc775a733562"><a name="af191e297ae78431c9932cc775a733562"></a><a name="af191e297ae78431c9932cc775a733562"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.3"><p id="a1d492ee6e04f496bbd8ecc4d07191978"><a name="a1d492ee6e04f496bbd8ecc4d07191978"></a><a name="a1d492ee6e04f496bbd8ecc4d07191978"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="45%" id="mcps1.2.5.1.4"><p id="a4d9dab743a984186842c8bbe98b3557d"><a name="a4d9dab743a984186842c8bbe98b3557d"></a><a name="a4d9dab743a984186842c8bbe98b3557d"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="rdd3aa726ca6f43b8bf9d4a42b2ad143b"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a14259c632e904114ae0b2cc3e8aa550b"><a name="a14259c632e904114ae0b2cc3e8aa550b"></a><a name="a14259c632e904114ae0b2cc3e8aa550b"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="aff037d572ab643f0b580c40dbb95f696"><a name="aff037d572ab643f0b580c40dbb95f696"></a><a name="aff037d572ab643f0b580c40dbb95f696"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a66cf20f9ed8e4356824c2590f81d2d48"><a name="a66cf20f9ed8e4356824c2590f81d2d48"></a><a name="a66cf20f9ed8e4356824c2590f81d2d48"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a4444ac23efa24385af83e5291d7e0350"><a name="a4444ac23efa24385af83e5291d7e0350"></a><a name="a4444ac23efa24385af83e5291d7e0350"></a>弹性伸缩规则的名称。</p>
<p id="af962d8ca691147e5bfdbca28104bf36f"><a name="af962d8ca691147e5bfdbca28104bf36f"></a><a name="af962d8ca691147e5bfdbca28104bf36f"></a>只能由字母、数字、中划线和下划线组成，并且长度为1～64个字符。</p>
<p id="ae44631b5ce0145b5b7ed3009f3ab6466"><a name="ae44631b5ce0145b5b7ed3009f3ab6466"></a><a name="ae44631b5ce0145b5b7ed3009f3ab6466"></a>在一个节点组范围内，不允许重名。</p>
</td>
</tr>
<tr id="r54833bc2df5b49a299a3e8a176ddf174"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a70bfbe0418014aa3923ae0353d0eaa65"><a name="a70bfbe0418014aa3923ae0353d0eaa65"></a><a name="a70bfbe0418014aa3923ae0353d0eaa65"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a1b99d04710ff4e4b9b196986a038fa3e"><a name="a1b99d04710ff4e4b9b196986a038fa3e"></a><a name="a1b99d04710ff4e4b9b196986a038fa3e"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a58433012b5f843e4a91f761a3f0a67a0"><a name="a58433012b5f843e4a91f761a3f0a67a0"></a><a name="a58433012b5f843e4a91f761a3f0a67a0"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a4800d4427e6e4e49a594c7e51741d93f"><a name="a4800d4427e6e4e49a594c7e51741d93f"></a><a name="a4800d4427e6e4e49a594c7e51741d93f"></a>弹性伸缩规则的说明。</p>
<p id="ac8727c64e2804458a348ad0e26efcf92"><a name="ac8727c64e2804458a348ad0e26efcf92"></a><a name="ac8727c64e2804458a348ad0e26efcf92"></a>最大长度为1024字符。</p>
</td>
</tr>
<tr id="raad9fb234b964602be3df66b443853d3"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a38ebd9170eea4bfbb430b32403361743"><a name="a38ebd9170eea4bfbb430b32403361743"></a><a name="a38ebd9170eea4bfbb430b32403361743"></a>adjustment_type</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a2b437e89315c4e3380e289cb8e69855a"><a name="a2b437e89315c4e3380e289cb8e69855a"></a><a name="a2b437e89315c4e3380e289cb8e69855a"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="aa92f1fdd42af41b6b28a5ddd89c5eebb"><a name="aa92f1fdd42af41b6b28a5ddd89c5eebb"></a><a name="aa92f1fdd42af41b6b28a5ddd89c5eebb"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a3bde4d30534f45738068c40a19c59d92"><a name="a3bde4d30534f45738068c40a19c59d92"></a><a name="a3bde4d30534f45738068c40a19c59d92"></a>弹性伸缩规则的调整类型，只允许以下类型：</p>
<a name="u167cb997a997485aa93cca57d3c6da44"></a><a name="u167cb997a997485aa93cca57d3c6da44"></a><ul id="u167cb997a997485aa93cca57d3c6da44"><li>scale_out：扩容</li><li>scale_in：缩容</li></ul>
</td>
</tr>
<tr id="r09733b40d6df4dcf9f81d434d5385b04"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="aff015ebbd6a64f2f9a0fea5ded4dc0d0"><a name="aff015ebbd6a64f2f9a0fea5ded4dc0d0"></a><a name="aff015ebbd6a64f2f9a0fea5ded4dc0d0"></a>cool_down_minutes</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="af74fd49120d141cfbfc3198df8bd1e60"><a name="af74fd49120d141cfbfc3198df8bd1e60"></a><a name="af74fd49120d141cfbfc3198df8bd1e60"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a095bb5cc06f440ab9ded2e867b370a09"><a name="a095bb5cc06f440ab9ded2e867b370a09"></a><a name="a095bb5cc06f440ab9ded2e867b370a09"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a8cf75086117041e4a194cd65093a6211"><a name="a8cf75086117041e4a194cd65093a6211"></a><a name="a8cf75086117041e4a194cd65093a6211"></a>触发弹性伸缩规则后，该集群处于冷却状态（不再执行弹性伸缩操作）的时长，单位为分钟。</p>
<p id="a3158dfa3eff74d40b4f9c200771b1fdb"><a name="a3158dfa3eff74d40b4f9c200771b1fdb"></a><a name="a3158dfa3eff74d40b4f9c200771b1fdb"></a>取值范围[0～10080]，10080为一周的分钟数。</p>
</td>
</tr>
<tr id="rc784ba9d7ea9473589df222245a1a69f"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a1252b6bcce82424fb22404209a494ac7"><a name="a1252b6bcce82424fb22404209a494ac7"></a><a name="a1252b6bcce82424fb22404209a494ac7"></a>scaling_adjustment</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="aa2d9d2de4c3b480f86582bc2005328c1"><a name="aa2d9d2de4c3b480f86582bc2005328c1"></a><a name="aa2d9d2de4c3b480f86582bc2005328c1"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a5f6bdf2aa0b04ff9b52716a01ad061b6"><a name="a5f6bdf2aa0b04ff9b52716a01ad061b6"></a><a name="a5f6bdf2aa0b04ff9b52716a01ad061b6"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a34004bafa9a6479b968cf75ff438f656"><a name="a34004bafa9a6479b968cf75ff438f656"></a><a name="a34004bafa9a6479b968cf75ff438f656"></a>单次调整集群节点的个数。</p>
<p id="ae95ac27b3ed547dbba33bed191d52af9"><a name="ae95ac27b3ed547dbba33bed191d52af9"></a><a name="ae95ac27b3ed547dbba33bed191d52af9"></a>取值范围[1～100]</p>
</td>
</tr>
<tr id="r151cbd48f10343dca169e42548b9119c"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a1bb83a3fc6514602ac2b9a6c6062752a"><a name="a1bb83a3fc6514602ac2b9a6c6062752a"></a><a name="a1bb83a3fc6514602ac2b9a6c6062752a"></a>trigger</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a169b5f71b0104e85bc7dfb5ccd1ca278"><a name="a169b5f71b0104e85bc7dfb5ccd1ca278"></a><a name="a169b5f71b0104e85bc7dfb5ccd1ca278"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a0a867dcde0404ab3a5ac1192cb3b456c"><a name="a0a867dcde0404ab3a5ac1192cb3b456c"></a><a name="a0a867dcde0404ab3a5ac1192cb3b456c"></a>Trigger</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a995f3be0e8944be49a23b1082df618d1"><a name="a995f3be0e8944be49a23b1082df618d1"></a><a name="a995f3be0e8944be49a23b1082df618d1"></a>描述该规则触发条件，详细说明请参见<a href="#table4489131814489">表7</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 7**  trigger参数说明

<a name="table4489131814489"></a>
<table><thead align="left"><tr id="r4db041e3b52e42bca75a46f8b3e450ab"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="ac529b2fdbd35494489ad9280e7fd470a"><a name="ac529b2fdbd35494489ad9280e7fd470a"></a><a name="ac529b2fdbd35494489ad9280e7fd470a"></a>参数名</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.2"><p id="ab1c1a20707504b71af01721b1b0a5d59"><a name="ab1c1a20707504b71af01721b1b0a5d59"></a><a name="ab1c1a20707504b71af01721b1b0a5d59"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.3"><p id="af61ad9c899f948bba86644318b0db7f6"><a name="af61ad9c899f948bba86644318b0db7f6"></a><a name="af61ad9c899f948bba86644318b0db7f6"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="45%" id="mcps1.2.5.1.4"><p id="a9c2d6300f1b14622a2f1b35d2526150b"><a name="a9c2d6300f1b14622a2f1b35d2526150b"></a><a name="a9c2d6300f1b14622a2f1b35d2526150b"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="r6707bd66418645e3923f1de39a9df95d"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a38aecc27e19f47d29b40fd217b330864"><a name="a38aecc27e19f47d29b40fd217b330864"></a><a name="a38aecc27e19f47d29b40fd217b330864"></a>metric_name</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a11ac8133e79f427ab2c762dbc15768a1"><a name="a11ac8133e79f427ab2c762dbc15768a1"></a><a name="a11ac8133e79f427ab2c762dbc15768a1"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a1f5a9c2be6cc453993926a8173f6847f"><a name="a1f5a9c2be6cc453993926a8173f6847f"></a><a name="a1f5a9c2be6cc453993926a8173f6847f"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a047fe7b0862c4fa7938bdb739768e94c"><a name="a047fe7b0862c4fa7938bdb739768e94c"></a><a name="a047fe7b0862c4fa7938bdb739768e94c"></a>指标名称</p>
<p id="a4845c350905c4037ac73edd34ae1ba68"><a name="a4845c350905c4037ac73edd34ae1ba68"></a><a name="a4845c350905c4037ac73edd34ae1ba68"></a>该触发条件会依据该名称对应指标的值来进行判断。</p>
<p id="a22ed88eb609e4d3daea8bd2702b41e60"><a name="a22ed88eb609e4d3daea8bd2702b41e60"></a><a name="a22ed88eb609e4d3daea8bd2702b41e60"></a>最大长度为64个字符。</p>
<p id="a252a05eec1c949d6a19e4bb10e0d164f"><a name="a252a05eec1c949d6a19e4bb10e0d164f"></a><a name="a252a05eec1c949d6a19e4bb10e0d164f"></a>支持的指标名称请参考<a href="#table46006826145048">表8</a>。</p>
</td>
</tr>
<tr id="r99f20a05ce1f4c559bf32bdb74b21284"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="a26945052b57f458eaf3b7e9cb4c33c87"><a name="a26945052b57f458eaf3b7e9cb4c33c87"></a><a name="a26945052b57f458eaf3b7e9cb4c33c87"></a>metric_value</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a0caa03c5864146bdaedb9d1376052aa4"><a name="a0caa03c5864146bdaedb9d1376052aa4"></a><a name="a0caa03c5864146bdaedb9d1376052aa4"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a797de86932dd42c886d2fab963bfad7e"><a name="a797de86932dd42c886d2fab963bfad7e"></a><a name="a797de86932dd42c886d2fab963bfad7e"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a3a1037ed0e67422983a2ea4309dc45f2"><a name="a3a1037ed0e67422983a2ea4309dc45f2"></a><a name="a3a1037ed0e67422983a2ea4309dc45f2"></a>指标阈值</p>
<p id="a2bef2fb4a6314a31add5258c667eeaad"><a name="a2bef2fb4a6314a31add5258c667eeaad"></a><a name="a2bef2fb4a6314a31add5258c667eeaad"></a>触发该条件的指标阈值，只允许输入整数或者带两位小数的数，metric_name对应的指标数值类型和有效取值范围，请参考<a href="#table46006826145048">表8</a>。</p>
</td>
</tr>
<tr id="rc54b0c696c0842a0bbdfcef4f315ee98"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="ae60b5a789b0f4b9c86f2c23e724ca0f5"><a name="ae60b5a789b0f4b9c86f2c23e724ca0f5"></a><a name="ae60b5a789b0f4b9c86f2c23e724ca0f5"></a>comparison_operator</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="aabfb40b6ee3648e9b54e850f9b11480f"><a name="aabfb40b6ee3648e9b54e850f9b11480f"></a><a name="aabfb40b6ee3648e9b54e850f9b11480f"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="ad686df63e6e44ad38cdeb03ee2ada1fb"><a name="ad686df63e6e44ad38cdeb03ee2ada1fb"></a><a name="ad686df63e6e44ad38cdeb03ee2ada1fb"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="afbd67bf12783405f8a4a01593df8d7e6"><a name="afbd67bf12783405f8a4a01593df8d7e6"></a><a name="afbd67bf12783405f8a4a01593df8d7e6"></a>指标判断逻辑运算符，包括：</p>
<a name="ueb717569ff0b44749995e9142979bd04"></a><a name="ueb717569ff0b44749995e9142979bd04"></a><ul id="ueb717569ff0b44749995e9142979bd04"><li>LT：小于</li><li>GT：大于</li><li>LTOE：小于等于</li><li>GTOE：大于等于</li></ul>
</td>
</tr>
<tr id="r4701ea80042d40ad83c7f17b9c74056b"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="aec4c07679b6e4f93bbc60505a6a4bd36"><a name="aec4c07679b6e4f93bbc60505a6a4bd36"></a><a name="aec4c07679b6e4f93bbc60505a6a4bd36"></a>evaluation_periods</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="a7c74e9d2b84b453896ff8ce2f46130f4"><a name="a7c74e9d2b84b453896ff8ce2f46130f4"></a><a name="a7c74e9d2b84b453896ff8ce2f46130f4"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="a9e0270c783be4e0a89444530333c7c1e"><a name="a9e0270c783be4e0a89444530333c7c1e"></a><a name="a9e0270c783be4e0a89444530333c7c1e"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="a595b019657fb449d942c14f571f331a8"><a name="a595b019657fb449d942c14f571f331a8"></a><a name="a595b019657fb449d942c14f571f331a8"></a>判断连续满足指标阈值的周期数(一个周期为5分钟)。</p>
<p id="a915164be6fea464e81dae82a35cfe04b"><a name="a915164be6fea464e81dae82a35cfe04b"></a><a name="a915164be6fea464e81dae82a35cfe04b"></a>取值范围[1～288]</p>
</td>
</tr>
</tbody>
</table>

**表 8**  弹性伸缩指标列表

<a name="table46006826145048"></a>
<table><thead align="left"><tr id="r46d1f493c151485aa26585388fade29a"><th class="cellrowborder" valign="top" width="15.598440155984402%" id="mcps1.2.5.1.1"><p id="a4e4ccd2c5e6049e49e042eb567709026"><a name="a4e4ccd2c5e6049e49e042eb567709026"></a><a name="a4e4ccd2c5e6049e49e042eb567709026"></a>集群类型</p>
</th>
<th class="cellrowborder" valign="top" width="24.437556244375564%" id="mcps1.2.5.1.2"><p id="ae88aa13d51fc449c81a8cf480d939386"><a name="ae88aa13d51fc449c81a8cf480d939386"></a><a name="ae88aa13d51fc449c81a8cf480d939386"></a>指标名称</p>
</th>
<th class="cellrowborder" valign="top" width="15.22847715228477%" id="mcps1.2.5.1.3"><p id="af0b19dd02e3d471abdf2c2f9a7e5fd78"><a name="af0b19dd02e3d471abdf2c2f9a7e5fd78"></a><a name="af0b19dd02e3d471abdf2c2f9a7e5fd78"></a>数值类型</p>
</th>
<th class="cellrowborder" valign="top" width="44.73552644735527%" id="mcps1.2.5.1.4"><p id="ad535e757a3cb4743a7ca1efbce8605cd"><a name="ad535e757a3cb4743a7ca1efbce8605cd"></a><a name="ad535e757a3cb4743a7ca1efbce8605cd"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="rc9654cda68c64804a87094b2123cbc7e"><td class="cellrowborder" rowspan="7" valign="top" width="15.598440155984402%" headers="mcps1.2.5.1.1 "><p id="a56cbc3dc33dc44c29bb217af1e668c39"><a name="a56cbc3dc33dc44c29bb217af1e668c39"></a><a name="a56cbc3dc33dc44c29bb217af1e668c39"></a>流式集群</p>
<p id="p188246339139"><a name="p188246339139"></a><a name="p188246339139"></a></p>
<p id="p749343611138"><a name="p749343611138"></a><a name="p749343611138"></a></p>
<p id="p1528164071316"><a name="p1528164071316"></a><a name="p1528164071316"></a></p>
</td>
<td class="cellrowborder" valign="top" width="24.437556244375564%" headers="mcps1.2.5.1.2 "><p id="ad10ba5b960574d69b26b5881ebc4c8d8"><a name="ad10ba5b960574d69b26b5881ebc4c8d8"></a><a name="ad10ba5b960574d69b26b5881ebc4c8d8"></a>StormSlotAvailable</p>
</td>
<td class="cellrowborder" valign="top" width="15.22847715228477%" headers="mcps1.2.5.1.3 "><p id="a3d4271db28b543babdd348fe0c6a3a67"><a name="a3d4271db28b543babdd348fe0c6a3a67"></a><a name="a3d4271db28b543babdd348fe0c6a3a67"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" width="44.73552644735527%" headers="mcps1.2.5.1.4 "><p id="aeb6f72aea00c49b888f3db3ee1b9350f"><a name="aeb6f72aea00c49b888f3db3ee1b9350f"></a><a name="aeb6f72aea00c49b888f3db3ee1b9350f"></a>Storm组件的可用slot数。</p>
<p id="a83fbc04d7fae43aa9b1aa74dc76a8e97"><a name="a83fbc04d7fae43aa9b1aa74dc76a8e97"></a><a name="a83fbc04d7fae43aa9b1aa74dc76a8e97"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="rd1f7233dc41e443d8b23685cafab86d2"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="af757be0102e54ae8a83700feafe0984c"><a name="af757be0102e54ae8a83700feafe0984c"></a><a name="af757be0102e54ae8a83700feafe0984c"></a>StormSlotAvailablePercentage</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a51095871f46f424b9abd6514af67fd35"><a name="a51095871f46f424b9abd6514af67fd35"></a><a name="a51095871f46f424b9abd6514af67fd35"></a>百分比</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="aa72249c1d6b5423ebccf2cf69af00ae6"><a name="aa72249c1d6b5423ebccf2cf69af00ae6"></a><a name="aa72249c1d6b5423ebccf2cf69af00ae6"></a>Storm组件可用slot百分比。是可用slot数与总slot数的比值。</p>
<p id="a787d78c15ec9465d97aac398726aa13f"><a name="a787d78c15ec9465d97aac398726aa13f"></a><a name="a787d78c15ec9465d97aac398726aa13f"></a>取值范围为[0～100]。</p>
</td>
</tr>
<tr id="rf4652612d1d94064a352d5acdedf3716"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="a13eff7fc3f544d508e7bc01865917799"><a name="a13eff7fc3f544d508e7bc01865917799"></a><a name="a13eff7fc3f544d508e7bc01865917799"></a>StormSlotUsed</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a0019d23c98e046b9bc628b97db022d6c"><a name="a0019d23c98e046b9bc628b97db022d6c"></a><a name="a0019d23c98e046b9bc628b97db022d6c"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a4b21d57119584597819e3832a1ddb4d7"><a name="a4b21d57119584597819e3832a1ddb4d7"></a><a name="a4b21d57119584597819e3832a1ddb4d7"></a>Storm组件的已用slot数。</p>
<p id="ab5ddaae221044d45bfa4bb05cea8eda3"><a name="ab5ddaae221044d45bfa4bb05cea8eda3"></a><a name="ab5ddaae221044d45bfa4bb05cea8eda3"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r6b6f7ee9ff6d4aad82783141790c3155"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="a1ed6d96eeb7e466ea91283b654db6887"><a name="a1ed6d96eeb7e466ea91283b654db6887"></a><a name="a1ed6d96eeb7e466ea91283b654db6887"></a>StormSlotUsedPercentage</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="ae530d57b809f4acca422079cc4ea4942"><a name="ae530d57b809f4acca422079cc4ea4942"></a><a name="ae530d57b809f4acca422079cc4ea4942"></a>百分比</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="ab509a9ce840844438e742ee6f1f8062d"><a name="ab509a9ce840844438e742ee6f1f8062d"></a><a name="ab509a9ce840844438e742ee6f1f8062d"></a>Storm组件已用slot百分比。是可用slot数与总slot数的比值。</p>
<p id="a09e4c41164b345b9b6721d8843441d4f"><a name="a09e4c41164b345b9b6721d8843441d4f"></a><a name="a09e4c41164b345b9b6721d8843441d4f"></a>取值范围为[0～100]。</p>
</td>
</tr>
<tr id="row98241233111311"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="p135088571721"><a name="p135088571721"></a><a name="p135088571721"></a>StormSupervisorMemAverageUsage</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="p1950845719217"><a name="p1950845719217"></a><a name="p1950845719217"></a>整形</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="p165082571219"><a name="p165082571219"></a><a name="p165082571219"></a>Storm组件Supervisor的内存平均使用量。</p>
<p id="p165194141793"><a name="p165194141793"></a><a name="p165194141793"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="row2049314365137"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="p188210636"><a name="p188210636"></a><a name="p188210636"></a>StormSupervisorMemAverageUsagePercentage</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="p6821801732"><a name="p6821801732"></a><a name="p6821801732"></a>百分比</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="p88213018314"><a name="p88213018314"></a><a name="p88213018314"></a>Storm组件Supervisor进程使用的内存占系统总内存的平均百分比。</p>
<p id="p3227151918108"><a name="p3227151918108"></a><a name="p3227151918108"></a>取值范围[0 ~ 100]。</p>
</td>
</tr>
<tr id="row428184014139"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="p794819218319"><a name="p794819218319"></a><a name="p794819218319"></a>StormSupervisorCPUAverageUsagePercentage</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="p1494842533"><a name="p1494842533"></a><a name="p1494842533"></a>百分比</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="p1948121837"><a name="p1948121837"></a><a name="p1948121837"></a>Storm组件Supervisor进程使用的CPU占系统总CPU的平均百分比。</p>
<p id="p1690164451113"><a name="p1690164451113"></a><a name="p1690164451113"></a>取值范围[0 ~ 6000]。</p>
</td>
</tr>
<tr id="r0601d4930e014c588237cdf408e9a335"><td class="cellrowborder" rowspan="14" valign="top" width="15.598440155984402%" headers="mcps1.2.5.1.1 "><p id="add1ce9ea04e64ec58838db97c669cbdc"><a name="add1ce9ea04e64ec58838db97c669cbdc"></a><a name="add1ce9ea04e64ec58838db97c669cbdc"></a>分析集群</p>
</td>
<td class="cellrowborder" valign="top" width="24.437556244375564%" headers="mcps1.2.5.1.2 "><p id="a776910ecf8fc489c97df8b91723168b1"><a name="a776910ecf8fc489c97df8b91723168b1"></a><a name="a776910ecf8fc489c97df8b91723168b1"></a>YARNAppPending</p>
</td>
<td class="cellrowborder" valign="top" width="15.22847715228477%" headers="mcps1.2.5.1.3 "><p id="a05eb4400200c4e249d56bfcade700323"><a name="a05eb4400200c4e249d56bfcade700323"></a><a name="a05eb4400200c4e249d56bfcade700323"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" width="44.73552644735527%" headers="mcps1.2.5.1.4 "><p id="aaa43f58880b34d9f8b1688aeed6b6517"><a name="aaa43f58880b34d9f8b1688aeed6b6517"></a><a name="aaa43f58880b34d9f8b1688aeed6b6517"></a>YARN组件挂起的任务数。</p>
<p id="ad66aec78a8334677a6f162aa0f44bccd"><a name="ad66aec78a8334677a6f162aa0f44bccd"></a><a name="ad66aec78a8334677a6f162aa0f44bccd"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r7dbdc3f72bc64f51b1fcdbbc7767ac11"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="a5255975d33a447829457352cabb19a1c"><a name="a5255975d33a447829457352cabb19a1c"></a><a name="a5255975d33a447829457352cabb19a1c"></a>YARNAppPendingRatio</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a70ee441ff77d49468952c4028d260b18"><a name="a70ee441ff77d49468952c4028d260b18"></a><a name="a70ee441ff77d49468952c4028d260b18"></a>比率</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a087ff7538dc34635a9bdac4012ea8649"><a name="a087ff7538dc34635a9bdac4012ea8649"></a><a name="a087ff7538dc34635a9bdac4012ea8649"></a>YARN组件挂起的任务数比例。是YARN挂起的任务数与YARN运行中的任务数比值。</p>
<p id="ac40b3b48a9474c3696e06e5fda919ce3"><a name="ac40b3b48a9474c3696e06e5fda919ce3"></a><a name="ac40b3b48a9474c3696e06e5fda919ce3"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r4b996e1924484e998cfcaeaa3c21cec9"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="a9ed5dbfbf8534de081a4eb0da3437227"><a name="a9ed5dbfbf8534de081a4eb0da3437227"></a><a name="a9ed5dbfbf8534de081a4eb0da3437227"></a>YARNAppRunning</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="aac7929950bb14f2786a312077afafaef"><a name="aac7929950bb14f2786a312077afafaef"></a><a name="aac7929950bb14f2786a312077afafaef"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a08d0218b5e094e3b9c1aba61928a57f9"><a name="a08d0218b5e094e3b9c1aba61928a57f9"></a><a name="a08d0218b5e094e3b9c1aba61928a57f9"></a>YARN组件运行中的任务数。</p>
<p id="ad31692418a2f4d89a95c56890652d074"><a name="ad31692418a2f4d89a95c56890652d074"></a><a name="ad31692418a2f4d89a95c56890652d074"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="re6dc3db2594146fea8d0a8f78026c009"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="acd5f221e1aec48ed9e5446f94e3c46b8"><a name="acd5f221e1aec48ed9e5446f94e3c46b8"></a><a name="acd5f221e1aec48ed9e5446f94e3c46b8"></a>YARNContainerAllocated</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a75437be55e6d41d79ede5250a43b8547"><a name="a75437be55e6d41d79ede5250a43b8547"></a><a name="a75437be55e6d41d79ede5250a43b8547"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="ae42db249bf5c4cda859d6e74d99b422e"><a name="ae42db249bf5c4cda859d6e74d99b422e"></a><a name="ae42db249bf5c4cda859d6e74d99b422e"></a>YARN组件已分配的container个数。</p>
<p id="a8bbb2ca01e684545881dfb7c339db758"><a name="a8bbb2ca01e684545881dfb7c339db758"></a><a name="a8bbb2ca01e684545881dfb7c339db758"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r47687a419fe742e7b5ee68ea0cea5c7b"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="accdc01c7020942f3822c7f30e59276e9"><a name="accdc01c7020942f3822c7f30e59276e9"></a><a name="accdc01c7020942f3822c7f30e59276e9"></a>YARNContainerPending</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="ae894996a9a074a3581981cce00dee021"><a name="ae894996a9a074a3581981cce00dee021"></a><a name="ae894996a9a074a3581981cce00dee021"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a2210b7d772d5425a93c569e6e56768fd"><a name="a2210b7d772d5425a93c569e6e56768fd"></a><a name="a2210b7d772d5425a93c569e6e56768fd"></a>YARN组件挂起的container个数。</p>
<p id="a42963fe93c2040dca46605c9982a1d3e"><a name="a42963fe93c2040dca46605c9982a1d3e"></a><a name="a42963fe93c2040dca46605c9982a1d3e"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r2b9f40fc80a84605b64f8a45999299ef"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="a9181ccd4a6304ab48689f9aa4fdbdea1"><a name="a9181ccd4a6304ab48689f9aa4fdbdea1"></a><a name="a9181ccd4a6304ab48689f9aa4fdbdea1"></a>YARNContainerPendingRatio</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a62ed8fd9cc404556adec1391507f30bd"><a name="a62ed8fd9cc404556adec1391507f30bd"></a><a name="a62ed8fd9cc404556adec1391507f30bd"></a>比率</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a90ae58f521274168b2a423b517c132ae"><a name="a90ae58f521274168b2a423b517c132ae"></a><a name="a90ae58f521274168b2a423b517c132ae"></a>YARN组件挂起的container比率。是挂起的container数与运行中的container数的比值。</p>
<p id="ac4b0e60b3c0442f3adefc7b975737458"><a name="ac4b0e60b3c0442f3adefc7b975737458"></a><a name="ac4b0e60b3c0442f3adefc7b975737458"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r840627a9be2242e9b60ebabf0c719034"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="a7679e260a94a44be8c3e4d8da7679b4e"><a name="a7679e260a94a44be8c3e4d8da7679b4e"></a><a name="a7679e260a94a44be8c3e4d8da7679b4e"></a>YARNCPUAllocated</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="aeb4f6438ac454cc8b864820600118895"><a name="aeb4f6438ac454cc8b864820600118895"></a><a name="aeb4f6438ac454cc8b864820600118895"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a9b44c3daf174423fb71d213d95c25e1e"><a name="a9b44c3daf174423fb71d213d95c25e1e"></a><a name="a9b44c3daf174423fb71d213d95c25e1e"></a>YARN组件已分配的虚拟CPU核心数。</p>
<p id="aa414359583a245c886d51d7fe1003102"><a name="aa414359583a245c886d51d7fe1003102"></a><a name="aa414359583a245c886d51d7fe1003102"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r5e7c906564cf4a349e37c85dea5fb9d3"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="ab9b10c6473844dd3aaf6318d15a5f385"><a name="ab9b10c6473844dd3aaf6318d15a5f385"></a><a name="ab9b10c6473844dd3aaf6318d15a5f385"></a>YARNCPUAvailable</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="aba2230bbae1e42e384dbc6897ad7742d"><a name="aba2230bbae1e42e384dbc6897ad7742d"></a><a name="aba2230bbae1e42e384dbc6897ad7742d"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="abc2ed109e80742d2bb346b9612271cfd"><a name="abc2ed109e80742d2bb346b9612271cfd"></a><a name="abc2ed109e80742d2bb346b9612271cfd"></a>YARN组件可用的虚拟CPU核心数。</p>
<p id="a3b9903cd625547eea42e890f3a707aaa"><a name="a3b9903cd625547eea42e890f3a707aaa"></a><a name="a3b9903cd625547eea42e890f3a707aaa"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="rdbceaea7c320425f9baac7b5dbe413c7"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="ada8da4b80a3f43e5ac9aaa7b1fffdc14"><a name="ada8da4b80a3f43e5ac9aaa7b1fffdc14"></a><a name="ada8da4b80a3f43e5ac9aaa7b1fffdc14"></a>YARNCPUAvailablePercentage</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a099ddfe0b105465ab80701bab6e520e7"><a name="a099ddfe0b105465ab80701bab6e520e7"></a><a name="a099ddfe0b105465ab80701bab6e520e7"></a>百分比</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="af50ed2e41671406a859ad73c5d32447f"><a name="af50ed2e41671406a859ad73c5d32447f"></a><a name="af50ed2e41671406a859ad73c5d32447f"></a>YARN组件可用虚拟CPU核心数百分比。是可用虚拟CPU核心数与总虚拟CPU核心数比值。</p>
<p id="a2c07427cdbc54b66b200b8756be25a73"><a name="a2c07427cdbc54b66b200b8756be25a73"></a><a name="a2c07427cdbc54b66b200b8756be25a73"></a>取值范围为[0～100]。</p>
</td>
</tr>
<tr id="rd4ef3be9218c4eccb5f6b3220bc94f87"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="ad057fc77f44f442b98bbd943ccf87d8f"><a name="ad057fc77f44f442b98bbd943ccf87d8f"></a><a name="ad057fc77f44f442b98bbd943ccf87d8f"></a>YARNCPUPending</p>
<p id="a5f08bb38f6be4612bf1c70ab07f8ab56"><a name="a5f08bb38f6be4612bf1c70ab07f8ab56"></a><a name="a5f08bb38f6be4612bf1c70ab07f8ab56"></a></p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a52ad3c06f8b147a2a9400a059631edd7"><a name="a52ad3c06f8b147a2a9400a059631edd7"></a><a name="a52ad3c06f8b147a2a9400a059631edd7"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a9660c027fe50469aae95b627744fbb54"><a name="a9660c027fe50469aae95b627744fbb54"></a><a name="a9660c027fe50469aae95b627744fbb54"></a>YARN组件挂起的虚拟CPU核心数。</p>
<p id="aa7e7a940e6d04f8cb02dbbf6a0dfadfb"><a name="aa7e7a940e6d04f8cb02dbbf6a0dfadfb"></a><a name="aa7e7a940e6d04f8cb02dbbf6a0dfadfb"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r787385a6e63b4062adf8cf91c325dfea"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="aa3bcdbfc40324287af4475ea35872503"><a name="aa3bcdbfc40324287af4475ea35872503"></a><a name="aa3bcdbfc40324287af4475ea35872503"></a>YARNMemoryAllocated</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a151545d4f2174ceea3f4255480561d51"><a name="a151545d4f2174ceea3f4255480561d51"></a><a name="a151545d4f2174ceea3f4255480561d51"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a3961c5ea65fd42a1937ac8b5386a4c09"><a name="a3961c5ea65fd42a1937ac8b5386a4c09"></a><a name="a3961c5ea65fd42a1937ac8b5386a4c09"></a>YARN组件已分配内存大小。单位为MB。</p>
<p id="a7df17a7f02b3410c9fed4e404391b50b"><a name="a7df17a7f02b3410c9fed4e404391b50b"></a><a name="a7df17a7f02b3410c9fed4e404391b50b"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="rcba098a2748c47a5bfaa801096738482"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="a4ad2f37930734cfe8d4f717ab12a921b"><a name="a4ad2f37930734cfe8d4f717ab12a921b"></a><a name="a4ad2f37930734cfe8d4f717ab12a921b"></a>YARNMemoryAvailable</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="aa422afd02007435b80039196ef5f8c64"><a name="aa422afd02007435b80039196ef5f8c64"></a><a name="aa422afd02007435b80039196ef5f8c64"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a1c6b0f2b10c445bdbbeb05213bcf4905"><a name="a1c6b0f2b10c445bdbbeb05213bcf4905"></a><a name="a1c6b0f2b10c445bdbbeb05213bcf4905"></a>YARN组件可用内存大小。单位为MB。</p>
<p id="a91f398c831684740a1934be97ad68296"><a name="a91f398c831684740a1934be97ad68296"></a><a name="a91f398c831684740a1934be97ad68296"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
<tr id="r82ade36a7356407482abf06a336fd562"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="a9d0671a400b649749b6b20df3aadedbb"><a name="a9d0671a400b649749b6b20df3aadedbb"></a><a name="a9d0671a400b649749b6b20df3aadedbb"></a>YARNMemoryAvailablePercentage</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="a82c4b7e4f3aa44f790cd678f9ad7e3c3"><a name="a82c4b7e4f3aa44f790cd678f9ad7e3c3"></a><a name="a82c4b7e4f3aa44f790cd678f9ad7e3c3"></a>百分比</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="a9a06661645a340ababdd94826184cc0c"><a name="a9a06661645a340ababdd94826184cc0c"></a><a name="a9a06661645a340ababdd94826184cc0c"></a>YARN组件可用内存百分比。是YARN组件可用内存大小与YARN组件总内存大小的比值。</p>
<p id="a2fdff815d8bd40958a2cd77079709373"><a name="a2fdff815d8bd40958a2cd77079709373"></a><a name="a2fdff815d8bd40958a2cd77079709373"></a>取值范围为[0～100]。</p>
</td>
</tr>
<tr id="r693566e37c29401984419162093f2d04"><td class="cellrowborder" valign="top" headers="mcps1.2.5.1.1 "><p id="aa805611affb846b9859d9bb199b21024"><a name="aa805611affb846b9859d9bb199b21024"></a><a name="aa805611affb846b9859d9bb199b21024"></a>YARNMemoryPending</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.2 "><p id="ad0ec93a26d2847058d4d59e778407868"><a name="ad0ec93a26d2847058d4d59e778407868"></a><a name="ad0ec93a26d2847058d4d59e778407868"></a>整型</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.2.5.1.3 "><p id="af223281ef0cd47d892228864d47756db"><a name="af223281ef0cd47d892228864d47756db"></a><a name="af223281ef0cd47d892228864d47756db"></a>YARN组件挂起的内存大小。</p>
<p id="ab797b807896545178abca2cd217f81c9"><a name="ab797b807896545178abca2cd217f81c9"></a><a name="ab797b807896545178abca2cd217f81c9"></a>取值范围为[0～2147483647]。</p>
</td>
</tr>
</tbody>
</table>

>![](public_sys-resources/icon-note.gif) **说明：**   
>[表8](#table46006826145048)中指标数值类型为百分比或比率时，有效数值可精确到百分位。其中百分比类型指标数值为去除百分号（%）后的小数值，如16.80即代表16.80%。  

## 响应消息<a name="section38599577193858"></a>

**响应参数**

响应参数如[表9](#table8319691114112)所示。

**表 9**  响应参数说明

<a name="table8319691114112"></a>
<table><thead align="left"><tr id="row39824979114112"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="p4597879114112"><a name="p4597879114112"></a><a name="p4597879114112"></a>参数名</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.2"><p id="p36883882114112"><a name="p36883882114112"></a><a name="p36883882114112"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15%" id="mcps1.2.5.1.3"><p id="p34804503114112"><a name="p34804503114112"></a><a name="p34804503114112"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="45%" id="mcps1.2.5.1.4"><p id="p592484114112"><a name="p592484114112"></a><a name="p592484114112"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row47991225114112"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p62084031114112"><a name="p62084031114112"></a><a name="p62084031114112"></a>result</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.2 "><p id="p27884685114112"><a name="p27884685114112"></a><a name="p27884685114112"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.5.1.3 "><p id="p44067044114112"><a name="p44067044114112"></a><a name="p44067044114112"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="45%" headers="mcps1.2.5.1.4 "><p id="p12660774114112"><a name="p12660774114112"></a><a name="p12660774114112"></a>操作结果。</p>
<a name="ul46838108114112"></a><a name="ul46838108114112"></a><ul id="ul46838108114112"><li>succeeded：操作成功</li></ul>
</td>
</tr>
</tbody>
</table>

## 示例<a name="section1210015461189"></a>

-   请求示例

    ```
    {
      "node_group":"task_node_default_group",
      "auto_scaling_policy": {
          "auto_scaling_enable": true,
          "min_capacity": 1,
          "max_capacity": "3",
          "resources_plans": [{
             "period_type": "daily",
             "start_time": "9:50",
             "end_time": "10:20",
             "min_capacity": 2,
             "max_capacity": 3
             },{
             "period_type ": "daily",
             "start_time ": "10:20",
             "end_time ": "12:30",
             "min_capacity ": 0,
             "max_capacity ": 2
           }],
           "exec_scripts": [{
             "name": "before_scale_out",
             "uri": "s3a://XXX/zeppelin_install.sh ",
             "parameters": "${mrs_scale_node_num} ${mrs_scale_type} xxx",
             "nodes": [
               "master",
               "core",
               "task"
             ],
             "active_master": "true",
             "action_stage": "before_scale_out",
             "fail_sction": "continue"
             },{
             "name": "after_scale_out",
             "uri": "s3a://XXX/storm_rebalance.sh",
             "parameters": "${mrs_scale_node_hostnames} ${mrs_scale_node_ips}",
             "nodes": [
               "master",
               "core",
               "task"
             ],
             "active_master": "true",
             "action_stage": "after_scale_out",
             "fail_action": "continue"
          }],
          "rules": [{
             "name": "default-expand-1",
             "adjustment_type": "scale_out",
             "cool_down_minutes": 5,
             "scaling_adjustment": 1,
             "trigger": {
                "metric_name": "YARNMemoryAvailablePercentage",
                "metric_value": "25",
                "comparison_operator": "LT",
                "evaluation_periods": 10
                }
              },
             {
              "name": "default-shrink-1",
              "adjustment_type": "scale_in",
              "cool_down_minutes": 5,
              "scaling_adjustment": 1,
              "trigger": {
                 "metric_name": "YARNMemoryAvailablePercentage",
                 "metric_value": "70",
                 "comparison_operator": "GT",
                 "evaluation_periods": 10
                  }
               }]
         }
    }
    ```

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >新的弹性伸缩规则将会覆盖原数据库中保存的弹性伸缩规则。如果想对原规则进行修改，可以参考[查询集群详情](查询集群详情.md)，先查询出原规则，在原规则基础上进行修改后再提交修改。  

-   响应示例

    ```
    {       "result": "succeeded"  }
    ```


## 状态码<a name="section56352013105226"></a>

状态码如[表10](#table5043525610328)所示。

**表 10**  状态码

<a name="table5043525610328"></a>
<table><thead align="left"><tr id="row1549446910328"><th class="cellrowborder" valign="top" width="30%" id="mcps1.2.3.1.1"><p id="p4709251510328"><a name="p4709251510328"></a><a name="p4709251510328"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="70%" id="mcps1.2.3.1.2"><p id="p5639738110328"><a name="p5639738110328"></a><a name="p5639738110328"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row478517210328"><td class="cellrowborder" valign="top" width="30%" headers="mcps1.2.3.1.1 "><p id="p5205464710328"><a name="p5205464710328"></a><a name="p5205464710328"></a>200</p>
</td>
<td class="cellrowborder" valign="top" width="70%" headers="mcps1.2.3.1.2 "><p id="p5567688710328"><a name="p5567688710328"></a><a name="p5567688710328"></a>创建集群成功。</p>
</td>
</tr>
</tbody>
</table>

异常状态码请参见[状态码](状态码.md)。

